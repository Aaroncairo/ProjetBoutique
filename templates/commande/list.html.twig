{% extends "back-office.html.twig" %}

{% block title %}Liste des commandes{% endblock %}

{% block body %}
    <h1>Liste des commandes</h1>
    <table class="table table-striped">
        <thead>
            <tr class="text-center">
                <th style="width:5%">id</th>
                <th style="width:5%">user Id</th>
                <th style="width:20%">Id/nom produit</th>
                <th style="width:5%">prix produit</th>
                <th style="width:5%">quantite</th>
                <th style="width:5%">montant</th>
                <th style="width:20%">date enregistrement</th>
                <th style="width:20%">etat</th>
                <th style="width:15%">actions</th>
            </tr>
            
        </thead>
        <tbody>
            {%  for commande in commandes %}
                <tr class="text-center">
                    <td class="align-middle">{{ commande.id }}</td>
                    <td class="align-middle">{{ commande.user.id }}{{ commande.user.pseudo }}</td>
                    <td class="align-middle">{{ commande.produit.id }}{{ commande.produit.titre }}</td>
                    <td class="align-middle">{{ commande.produit.prix }}€</td>
                    <td class="align-middle">{{ commande.quantite }}</td>
                    <td class="align-middle">{{ commande.montant }}€</td>
                    <td class="align-middle">{{ commande.dateEnregistrement | date("d/m/Y H:i:s")}}</td>
                    <td class="align-middle">{{ commande.etat }}</td>
                    <td class="align-middle">
                    {% include "commun/actions.html.twig" with {"id" : commande.id , "update": "commande_update" , "delete" : "commande_suppr" }  %}</td>
                </tr>
            {% else %}
                <tr>
                    <td colSpan="7">aucune commande enregistrée pour le moment</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}